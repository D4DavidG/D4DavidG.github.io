/* =========================
   Base / Reset
========================= */
* { box-sizing: border-box; }
html { color-scheme: dark; scroll-behavior: smooth; }
@media (prefers-reduced-motion: reduce) { html { scroll-behavior: auto; } }

:root{
  --bg: #000;
  --panel: rgba(10, 12, 14, .72);
  --panel-2: rgba(10, 12, 14, .55);
  --border: rgba(255,255,255,.08);

  --text: #d7d7d7;
  --muted: #9aa09a;

  /* Accent system (default green) */
  --accent: #00ff00;
  --neon: var(--accent);

  /* per-theme “glow” vars (overridden by theme classes) */
  --neon-soft: rgba(0,255,0,.55);
  --neon-faint: rgba(0,255,0,.25);

  /* mouse pos injected via JS */
  --mx: 50vw;
  --my: 35vh;
}

/* =========================
   Theme overrides (ONLY color)
========================= */
body.theme-green {
  --accent: #00ff00;
  --neon-soft: rgba(0,255,0,.55);
  --neon-faint: rgba(0,255,0,.25);
}

body.theme-aqua {
  --accent: #2efcff;
  --neon-soft: rgba(46,252,255,.55);
  --neon-faint: rgba(46,252,255,.25);
}

body.theme-gold {
  --accent: #ffd54a;
  --neon-soft: rgba(255,213,74,.55);
  --neon-faint: rgba(255,213,74,.25);
}

/* =========================
   Body / Background “flow”
========================= */
body{
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.6;
  color: var(--text);
  background: var(--bg);
  min-height: 100vh;
  overflow-x: hidden;
}

/* grid + vignette layer */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -3;

  /* subtle grid + slight gradient */
  background:
    radial-gradient(1200px 700px at 30% 10%, rgba(255,255,255,.06), transparent 55%),
    linear-gradient(to bottom, rgba(255,255,255,.02), transparent 30%),
    repeating-linear-gradient(
      to right,
      rgba(255,255,255,.045) 0,
      rgba(255,255,255,.045) 1px,
      transparent 1px,
      transparent 46px
    ),
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.045) 0,
      rgba(255,255,255,.045) 1px,
      transparent 1px,
      transparent 46px
    );
  opacity: .22;
  filter: blur(.0px);
}

body::after{
  content:"";
  position: fixed;
  inset: -2px;
  pointer-events: none;
  z-index: -2;
  background:
    radial-gradient(1200px 900px at 50% 20%, transparent 35%, rgba(0,0,0,.75) 80%),
    radial-gradient(900px 600px at 70% 85%, rgba(0,0,0,.15), rgba(0,0,0,.9));
}

/* mouse glow “halo” */
.mouse-glow{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(260px 260px at var(--mx) var(--my),
      rgba(255,255,255,.08),
      transparent 62%
    ),
    radial-gradient(520px 520px at var(--mx) var(--my),
      var(--neon-faint),
      transparent 72%
    );
  opacity: .95;
  mix-blend-mode: screen;
  transition: opacity .25s ease;
}

@media (prefers-reduced-motion: reduce){
  .mouse-glow{ display:none; }
}

/* =========================
   Links / Headings
========================= */
a { color: var(--neon); text-decoration: none; }
a:hover, a:focus-visible { text-decoration: underline; }

h1, h2{
  text-shadow: 0 0 10px var(--neon-faint);
}
h2 { margin-top: 0; }
h3 { margin: 0 0 .25rem; }

/* Accessible skip link */
.skip-link { position: absolute; left: -999px; top: -999px; }
.skip-link:focus {
  left: 12px; top: 12px;
  padding: .55rem .85rem;
  background: var(--neon);
  color: #000;
  border-radius: 10px;
  box-shadow: 0 0 14px var(--neon-soft);
}

/* =========================
   Layout containers
========================= */
main{ max-width: 960px; margin: 1rem auto; padding: 0 1rem; }
section + section, article + article{ margin-top: 1.25rem; }

section, article{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 1rem 1.05rem;
  box-shadow:
    0 0 0 transparent,
    inset 0 0 0 transparent;
  transition: box-shadow .2s ease, transform .08s ease, border-color .2s ease;
}

section:hover, article:hover{
  border-color: rgba(255,255,255,.12);
  box-shadow:
    0 0 14px var(--neon-faint),
    0 0 28px rgba(0,0,0,.55);
}

/* target highlight when navigating via top buttons */
:target{
  scroll-margin-top: 12px;
  outline: 2px solid var(--neon);
  outline-offset: 6px;
  border-radius: 18px;
  animation: target-pop .9s ease 1;
}
@keyframes target-pop{
  0% { box-shadow: 0 0 0 var(--neon-faint); }
  40% { box-shadow: 0 0 18px var(--neon-soft); }
  100% { box-shadow: 0 0 0 var(--neon-faint); }
}
@media (prefers-reduced-motion: reduce){
  :target{ animation: none; }
}

/* =========================
   Header / Nav
========================= */
header{
  background: rgba(0,0,0,.75);
  color: var(--neon);
  padding: 1rem;
  border: 1px solid var(--neon);
  border-radius: 22px;
  box-shadow: 0 0 14px var(--neon-faint), inset 0 0 10px var(--neon-faint);
  max-width: 960px;
  margin: 1rem auto 0;
}

header .container{
  display:flex;
  gap: 1rem;
  align-items:center;
}

header h1{
  margin:0;
  font-size: clamp(1.25rem, 3.5vw, 2rem);
}

header address a{ color: var(--neon); }
header address a:hover{ text-decoration: underline; }

header.simple{
  display:grid;
  gap: .45rem;
}

.neon{
  color: var(--neon);
  text-shadow: 0 0 8px var(--neon-soft), 0 0 16px var(--neon-faint);
}

.subtitle{
  margin: 0;
  color: var(--text);
  opacity: .9;
}

/* top nav buttons */
.topnav{
  margin: .75rem auto 0;
  display:flex;
  flex-wrap: wrap;
  gap: .55rem .7rem;
  justify-content: center;
  padding-bottom: .25rem;
}

.btn{
  appearance:none;
  display:inline-block;
  padding: .55rem .95rem;
  border-radius: 999px;
  border: 1px solid var(--neon);
  background: rgba(0,0,0,.65);
  color: var(--neon);
  text-decoration:none;
  font-weight: 750;
  letter-spacing: .2px;
  box-shadow: 0 0 0 transparent;
  transition: box-shadow .18s ease, transform .06s ease, background-color .18s ease;
}
.btn:hover, .btn:focus-visible{
  outline: none;
  background: rgba(0,0,0,.85);
  box-shadow: 0 0 10px var(--neon-soft), 0 0 22px var(--neon-faint);
}
.btn:active{ transform: translateY(1px) scale(.985); }

/* =========================
   Avatar / Profile
========================= */
.avatar{
  width: clamp(86px, 14vw, 140px);
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  overflow: hidden;
  border: 2px solid var(--neon-faint);
  box-shadow: 0 2px 10px rgba(0,0,0,.6);
  transition: box-shadow .2s ease, border-color .2s ease;
}

.profile{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 50% 10%;
  transform: scale(1.28);
  transform-origin: 70% 50%;
  transition: transform .2s ease, filter .2s ease;
}

.avatar:hover{
  border-color: var(--neon);
  box-shadow: 0 0 10px var(--neon-soft), 0 0 28px var(--neon-faint);
}
.avatar:hover .profile{
  filter: drop-shadow(0 0 4px var(--neon-faint));
}

/* =========================
   Lists / Tags / Projects
========================= */
.project-links{ padding-left: 1.25rem; }
.project-links a{ text-decoration: none; }
.project-links a:hover{ text-decoration: underline; }

.tags{
  display:flex;
  flex-wrap: wrap;
  gap: .55rem;
  padding-left: 0;
  list-style: none;
  margin: .5rem 0 0;
}
.tags li{
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 999px;
  padding: .28rem .6rem;
  font-size: .95rem;
  color: var(--text);
  background: var(--panel-2);
  box-shadow: 0 0 10px rgba(0,0,0,.35);
}

/* =========================
   Figures / Images
========================= */
figure{ margin: 0; }
figure + figure{ margin-top: .95rem; }

figure img{
  width: 100%;
  height: auto;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  background: rgba(0,0,0,.6);
  box-shadow: 0 0 0 transparent;
  transition: box-shadow .2s ease, border-color .2s ease, transform .08s ease;
}

figure:hover img{
  border-color: rgba(255,255,255,.16);
  box-shadow: 0 0 16px var(--neon-faint);
}

figcaption{
  font-size: .92rem;
  color: var(--muted);
  margin-top: .35rem;
}

/* =========================
   Details / code blocks
========================= */
details{
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: .75rem .9rem;
}
details summary{
  cursor: pointer;
  color: var(--text);
}
pre{
  overflow:auto;
  border-radius: 12px;
  padding: .75rem;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.10);
}

/* =========================
   Footer
========================= */
footer{
  max-width: 960px;
  margin: 1rem auto 2rem;
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 1rem;
  text-align:center;
  color: var(--muted);
}

/* Shared glass container (header + sections) */
.glass{
  background: linear-gradient(180deg, rgba(14,18,20,0.72), rgba(14,18,20,0.46));
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 24px;
  backdrop-filter: blur(10px);
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    0 0 0 1px rgba(0,0,0,0.2);
  transition: box-shadow 220ms ease, border-color 220ms ease;
}

/* Glow interaction — THIS is what you were missing */
.glass:hover,
.panel:hover{
  border-color: color-mix(in oklab, var(--accent) 45%, rgba(255,255,255,0.12));
  box-shadow:
    0 22px 70px rgba(0,0,0,0.65),
    0 0 40px var(--glow);
}

/* Stronger header hover (requested) */
header.glass:hover h1,
header.glass:hover .neon{
  text-shadow:
    0 0 26px var(--glow),
    0 0 4px rgba(255,255,255,0.25);
}


/* =========================
   Responsive tweaks
========================= */
@media (max-width: 640px){
  header .container{
    flex-direction: column;
    align-items: flex-start;
  }
  .topnav{ justify-content: flex-start; }
}

/* =========================
   STRONGER HEADER GLOW
   ========================= */

.project-header {
  position: relative;
  border-radius: 18px;
  box-shadow:
    0 0 14px rgba(0, 255, 180, 0.35),
    0 0 30px rgba(0, 255, 180, 0.22);
  transition: box-shadow 0.35s ease, transform 0.35s ease;
}

.project-header:hover {
  box-shadow:
    0 0 18px rgba(0, 255, 200, 0.55),
    0 0 45px rgba(0, 255, 200, 0.35),
    0 0 70px rgba(0, 255, 200, 0.18);
  transform: translateY(-2px);
}

/* =========================
   FITNESS FUNCTIONS COLORS
   ========================= */

.fitness-functions,
.fitness-functions a,
.fitness-functions span,
.fitness-functions strong {
  color: var(--fitness-accent, #3fffd6);
}

.fitness-functions a:hover {
  text-shadow: 0 0 8px rgba(63, 255, 214, 0.8);
}

/* =========================
   POCKET PROFESSORS COLORS
   ========================= */

.pocket-professors,
.pocket-professors a,
.pocket-professors span,
.pocket-professors strong {
  color: var(--pocket-accent, #ffd84d);
}

.pocket-professors a:hover {
  text-shadow: 0 0 10px rgba(255, 216, 77, 0.9);
}


/* =========================================================
   FIX 1: define --glow so the existing glass hover works
   (your .glass:hover rule uses var(--glow) but it wasn't defined)
   ========================================================= */
:root{
  --glow: var(--neon-soft);
}

/* =========================================================
   FIX 2: Header glow stronger than section/article panels
   Applies to your real header: <header class="simple glass">
   ========================================================= */
header.glass{
  /* keep your current look, but ensure glow reads */
  box-shadow:
    0 0 18px var(--neon-faint),
    inset 0 0 12px var(--neon-faint);
}

header.glass:hover{
  border-color: var(--neon);
  box-shadow:
    0 0 26px var(--neon-soft),
    0 0 60px var(--neon-faint),
    inset 0 0 16px var(--neon-faint);
}

/* Keep header text a bit hotter than panels on hover */
header.glass:hover .neon,
header.glass:hover h1{
  text-shadow:
    0 0 34px var(--neon-soft),
    0 0 14px var(--neon-faint);
}

/* =========================================================
   FIX 3: Panels stay slightly weaker than header
   (your pages use <article> for the big panels)
   ========================================================= */
article:hover, section:hover{
  box-shadow:
    0 0 16px var(--neon-faint),
    0 0 32px rgba(0,0,0,.55);
}

/* =========================================================
   FIX 4: Remove "random green" by forcing theme color on accents
   (no new classes needed; uses your existing body.theme-* classes)
   ========================================================= */
body.theme-aqua .neon,
body.theme-aqua a{
  color: var(--accent);
}

body.theme-gold .neon,
body.theme-gold a{
  color: var(--accent);
}

/* Optional: stop any <strong> inside subtitles from looking "extra green" */
.subtitle strong{
  color: var(--accent);
}

/* =========================================================
   REMOVE STRAY GREEN BORDER ON HEADERS
   Force header border to use page accent ONLY
   ========================================================= */

/* Override any leftover neon-green border */
header.glass{
  border: 1px solid color-mix(in srgb, var(--accent) 55%, transparent);
}

/* Hover state — still stronger glow, but no green rim */
header.glass:hover{
  border-color: var(--accent);
}

/* Safety net: kill any hardcoded neon green borders */
header.glass,
header.glass *{
  outline-color: var(--accent);
}
